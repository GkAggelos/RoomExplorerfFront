<div class="container" id="main-container" *ngIf="ishost && isForAdmin">
   <div class="card  align-self-center">
       <div class="card-body row">
          <div class="col-6">
            <a *ngIf="host.photo === null || host.photo === ''"><img src="https://via.placeholder.com/700x300" alt="" class="img-fluid rounded-circle w-50"></a>
            <a *ngIf="host.photo !== null && host.photo !== ''"><img src="{{host.photo}}" alt="" class="img-fluid rounded-circle w-50"></a>
           </div>
          <div class="col-6 card-title align-self-center mb-0">
             <h4>{{host.username}}</h4>
           </div>
       </div>
       <ul class="list-group list-group-flush">
           <li class="list-group-item">First Name : <b> {{host.firstName}} </b></li>
           <li class="list-group-item">Last Name : <b>{{host.lastName}}</b></li>
           <li class="list-group-item"><i class="fa fa-envelope float-right"></i>Email : <b>{{host.email}}</b></li>
           <li class="list-group-item"><i class="fa fa-phone float-right"></i>Phone : <b>{{host.phoneNumber}}</b></li>
           <li class="list-group-item" *ngIf="host.approved === false">Approved : <b class="red">{{host.approved}}</b></li>
           <li class="list-group-item" *ngIf="host.approved">Approved : <b class="green">{{host.approved}}</b></li>
       </ul>
   </div>
   <button type="button" class="btn btn-success" *ngIf="host.approved === false" (click)="onApproveHost()">Approve this host</button><br><br>
   <button type="button" class="btn btn-primary">Get residences</button><br><br>
   <button type="button" class="btn btn-primary">Get critics</button>
</div>

<div class="container" id="main-container" *ngIf="isrenter && isForAdmin">
   <div class="card  align-self-center">
       <div class="card-body row">
          <div class="col-6">
            <a *ngIf="renter.photo === null || renter.photo === ''"><img src="https://via.placeholder.com/700x300" alt="" class="img-fluid rounded-circle w-50"></a>
              <a role="button" *ngIf="renter.photo !== null && renter.photo !== ''"><img src="{{renter.photo}}" alt="" class="img-fluid rounded-circle w-50"></a>
           </div>
          <div class="col-6 card-title align-self-center mb-0">
             <h4>{{renter.username}}</h4>
           </div>
       </div>
       <ul class="list-group list-group-flush">
           <li class="list-group-item">First Name : <b> {{renter.firstName}} </b></li>
           <li class="list-group-item">Last Name : <b>{{renter.lastName}}</b></li>
           <li class="list-group-item"><i class="fa fa-envelope float-right"></i>Email : <b>{{renter.email}}</b></li>
           <li class="list-group-item"><i class="fa fa-phone float-right"></i>Phone : <b>{{renter.phoneNumber}}</b></li>
       </ul>
   </div>
   <button type="button" class="btn btn-primary">Get reservations</button><br><br>
   <button type="button" class="btn btn-primary">Get critics</button>
</div>

<div class="container" id="main-container" *ngIf="!isForAdmin">
    <div class="card  align-self-center">
        <div class="card-body row">
           <div class="col-6" *ngIf="ishost">
              <a *ngIf="host.photo === null || host.photo === ''"><img src="https://via.placeholder.com/700x300" alt="" class="img-fluid rounded-circle w-50"></a>
              <a role="button" (click)="onOpenModal('deletePhoto',host.photo)" *ngIf="host.photo !== null && host.photo !== ''"><img src="{{host.photo}}" alt="" class="img-fluid rounded-circle w-50"></a>
            </div>
            <div class="col-6" *ngIf="isrenter">
              <a *ngIf="renter.photo === null || renter.photo === ''"><img src="https://via.placeholder.com/700x300" alt="" class="img-fluid rounded-circle w-50"></a>
              <a role="button" (click)="onOpenModal('deletePhoto', renter.photo)" *ngIf="renter.photo !== null && renter.photo !== ''"><img src="{{renter.photo}}" alt="" class="img-fluid rounded-circle w-50"></a>
            </div>
            <div class="col-6" *ngIf="isadmin">
              <a *ngIf="admin.photo === null || admin.photo === ''"><img src="https://via.placeholder.com/700x300" alt="" class="img-fluid rounded-circle w-50"></a>
              <a role="button" (click)="onOpenModal('deletePhoto', admin.photo)" *ngIf="admin.photo !== null && admin.photo !== ''"><img src="{{admin.photo}}" alt="" class="img-fluid rounded-circle w-50"></a>
            </div>
           <div class="col-6 card-title align-self-center mb-0">
              <h4 *ngIf="ishost">{{host.username}}</h4>
              <h4 *ngIf="isrenter">{{renter.username}}</h4>
              <h4 *ngIf="isadmin">{{admin.username}}</h4>
            </div>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngIf="ishost">First Name : <b> {{host.firstName}} </b></li>
            <li class="list-group-item" *ngIf="isrenter">First Name : <b> {{renter.firstName}} </b></li>
            <li class="list-group-item" *ngIf="isadmin">First Name : <b> {{admin.firstName}} </b></li>
            <li class="list-group-item" *ngIf="ishost">Last Name : <b> {{host.lastName}} </b></li>
            <li class="list-group-item" *ngIf="isrenter">Last Name : <b> {{renter.lastName}} </b></li>
            <li class="list-group-item" *ngIf="isadmin">Last Name : <b> {{admin.lastName}} </b></li>
            <li class="list-group-item" *ngIf="ishost"><i class="fa fa-envelope float-right"></i>Email : <b> {{host.email}} </b></li>
            <li class="list-group-item" *ngIf="isrenter"><i class="fa fa-envelope float-right"></i>Email : <b> {{renter.email}} </b></li>
            <li class="list-group-item" *ngIf="isadmin"><i class="fa fa-envelope float-right"></i>Email : <b> {{admin.email}} </b></li>
            <li class="list-group-item" *ngIf="ishost"><i class="fa fa-phone float-right"></i>Phone : <b> {{host.phoneNumber}} </b></li>
            <li class="list-group-item" *ngIf="isrenter"><i class="fa fa-phone float-right"></i>Phone : <b> {{renter.phoneNumber}} </b></li>
            <li class="list-group-item" *ngIf="isadmin"><i class="fa fa-phone float-right"></i>Phone : <b> {{admin.phoneNumber}} </b></li>
            <li class="list-group-item" *ngIf="ishost && host.approved === false">Approved : <b class="red">{{host.approved}}</b></li>
            <li class="list-group-item" *ngIf="ishost && host.approved">Approved : <b class="green">{{host.approved}}</b></li>
        </ul>
        <div class="card-body">
           <div class="float-right btn-group btn-group-sm">
              <a (click)="onOpenModal('edit', '')"  class="btn btn-primary tooltips" data-placement="top" data-original-title="Edit"><i class="fa fa-pencil"></i> </a>
              <a (click)="onOpenModal('deleteAccount', '')" *ngIf="!isadmin" class="btn btn-secondary tooltips" data-placement="top" data-original-title="Delete"><i class="fa fa-times"></i></a>
            </div>
        </div>
    </div>
    <div class="container" *ngIf="isrenter">
      <div class="row">
          <div class="col-12 mb-3 mb-lg-5">
              <div class="overflow-hidden card table-nowrap table-card">
                  <div class="card-header d-flex justify-content-between align-items-center">
                      <h5 class="mb-0">Reservations</h5>
                  </div>
                  <div class="table-responsive">
                      <table class="table mb-0">
                          <thead class="small text-uppercase bg-body text-muted">
                              <tr>
                                  <th>Location</th>
                                  <th>Check In</th>
                                  <th>Check Out</th>
                                  <th>Book Date</th>
                                  <th>View</th>
                              </tr>
                          </thead>
                          <tbody *ngFor="let reservation of reservations">
                              <tr class="align-middle">
                                  <td>
                                      <div class="d-flex align-items-center">
                                          <div>
                                              <div class="h6 mb-0 lh-1">{{reservation.residence.location}}</div>
                                          </div>
                                      </div>
                                  </td>
                                  <td>
                                      <div class="d-flex align-items-center">
                                          <div>
                                              <div class="h6 mb-0 lh-1">{{reservation.arrivalDate}}</div>
                                          </div>
                                      </div>
                                  </td>
                                  <td>
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <div class="h6 mb-0 lh-1">{{reservation.leaveDate}}</div>
                                        </div>
                                    </div>
                                </td>
                                  <td>
                                      <div class="d-flex align-items-center">
                                          <div>
                                              <div class="h6 mb-0 lh-1">{{reservation.reservationDate}}</div>
                                          </div>
                                      </div>
                                  </td>
                                  <td>
                                      <a class="btn btn-primary" href="reservation/?id={{reservation?.id}}">View Reservation</a>
                                  </td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
                  <div class="card_bottom">
                    <div class="datatable-info">Showing {{fromRecord}} to {{toRecord}} of {{recordsNumber}} entries</div>
                    <nav class="datatable-pagination position-absolute bottom-0 end-0">
                        <ul class="datatable-pagination-list">
                            <li class="datatable-pagination-list-item datatable-hidden" *ngIf="previousPage !== -1">
                                <a  class="datatable-pagination-list-item-link" role="button" (click)="onChangePage(previousPage)">‹</a>
                            </li>
                            <li class="datatable-pagination-list-item datatable-hidden datatable-disabled" *ngIf="previousPage === -1">
                                <a  class="datatable-pagination-list-item-link" role="button" (click)="onChangePage(previousPage)">‹</a>
                            </li>
                            <div *ngFor="let item of createRange(pages); let i=index">
                                <li class="datatable-pagination-list-item datatable-hidden" *ngIf="currentPage !== i">
                                    <a class="datatable-pagination-list-item-link" role="button" (click)="onChangePage(i)">{{i + 1}}</a>
                                </li>
                                <li class="datatable-pagination-list-item datatable-hidden datatable-active" *ngIf="currentPage === i">
                                    <a class="datatable-pagination-list-item-link" role="button" (click)="onChangePage(i)">{{i + 1}}</a>
                                </li>
                            </div>
                            <li class="datatable-pagination-list-item datatable-hidden" *ngIf="nextPage !== -1">
                                <a  class="datatable-pagination-list-item-link" role="button" (click)="onChangePage(nextPage)">›</a>
                            </li>
                            <li class="datatable-pagination-list-item datatable-hidden datatable-disabled" *ngIf="nextPage === -1">
                                <a  class="datatable-pagination-list-item-link" role="button" (click)="onChangePage(nextPage)">›</a>
                            </li>
                        </ul>
                    </nav>        
                </div>
              </div>
          </div>
      </div>
  </div>
</div>

<!-- Edit Modal -->
<div class="modal fade" id="updateUserModal" tabindex="-1" role="dialog" aria-labelledby="userEditModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title" id="userEditModalLabel">Edit Employee </h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
             </button>
          </div>
          <div class="modal-body">
            <form #editForm="ngForm" (ngSubmit)="onEdit(editForm)" >
               <div class="form-group">
                 <label for="username">Username</label>
                 <input type="text" ngModel name="username" class="form-control" id="edit_username" placeholder="Username" #userNameInput="ngModel" required 
                 appAllreadExistsValidator [records]="usernameRecords">
               </div>
               <div class="help-is-error" *ngIf="userNameInput.invalid && userNameInput.touched && !userNameInput.errors?.['allreadyExists']">
                 Username is required.
               </div>
               <div class="help-is-error" *ngIf="userNameInput.touched && userNameInput.invalid && userNameInput.errors?.['allreadyExists']">
                 This username exists try an other one.
               </div>
               <div class="form-group">
                 <label for="password">Password</label>
                 <input type="password" ngModel name="password" class="form-control" id="edit_password" placeholder="Password" #passwordInput="ngModel" required>
               </div>
               <div class="help-is-error" *ngIf="passwordInput.invalid && passwordInput.touched">
                 Password is required.
               </div>
               <div class="form-group">
                 <label for="password">Confirm Password</label>
                 <input type="password" ngModel name="conf_password" class="form-control" id="edit_conf_password" #conf_passwordInput="ngModel" placeholder="Password" required>
               </div>
               <div class="help-is-error" *ngIf="conf_passwordInput.invalid && conf_passwordInput.touched">
                 Have to confirm your password.
               </div>
               <div class="help-is-error" *ngIf="passwordNotMatch(editForm.value.password, editForm.value.conf_password)">
                 Password does not match.
               </div>
               <div class="form-group">
                 <label for="firstName">First Name</label>
                 <input type="text" ngModel name="firstName" class="form-control" id="edit_firstName" placeholder="FirstName" #firstNameInput="ngModel" required>
               </div>
               <div class="help-is-error" *ngIf="firstNameInput.invalid && firstNameInput.touched">
                 First Name is required.
               </div>
               <div class="form-group">
                 <label for="lastName">Last Name</label>
                 <input type="lastName" ngModel name="lastName" class="form-control" id="edit_lastName" placeholder="LastName" #lastNameInput="ngModel" required>
               </div>
               <div class="help-is-error" *ngIf="lastNameInput.invalid && lastNameInput.touched">
                 Last Name is required.
               </div>
               <div class="form-group">
                 <label for="email">Email Address</label>
                 <input type="email" ngModel name="email" class="form-control" id="edit_email" placeholder="Email" #emailInput="ngModel" required email
                 appAllreadExistsValidator [records]="emailRecords">
               </div>
               <div class="help-is-error" *ngIf="emailInput.invalid && emailInput.touched && !emailInput.errors?.['allreadyExists']">
                 Email is required and needs to be an email.
               </div>
               <div class="help-is-error" *ngIf="emailInput.touched && emailInput.invalid && emailInput.errors?.['allreadyExists']">
                 This email exists try an other one.
               </div>
               <div class="form-group">
                 <label for="phoneNumber">Phone Number</label>
                 <input type="text" ngModel name="phoneNumber" class="form-control" id="edit_phone" placeholder="Phone" #phoneNumberInput="ngModel" required>
               </div>
               <div class="help-is-error" *ngIf="phoneNumberInput.invalid && phoneNumberInput.touched">
                 Phone Number is required.
               </div>
               <div class="row justify-content-center"> 
                <div class="form-group files">
                    <label class="my-auto">Upload Photo</label> 
                    <input ngModel name="photo" id="file" type="file" class="form-control" #photoInput="ngModel" (change)="onSelect($event)"/>
                </div> 
            </div>
               <div class="modal-footer">
                  <button type="button" id="edit-user-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button [disabled]="editForm.invalid || passwordNotMatch(editForm.value.password, editForm.value.conf_password)"
                  type="submit" class="btn btn-primary">Save changes</button>
                </div>
             </form>
          </div>
       </div>
    </div>
  </div>

  <!-- Delete photo Modal -->
<div class="modal fade" id="deletePhotoModal" tabindex="-1" role="dialog" aria-labelledby="deletePhotoModelLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="deletePhotoModelLabel">Delete Photo</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <p>Are you sure you want to delete your photo profile?</p>
              <img class="img-fluid img-thumbnail" src="{{deletePhoto}}" alt="">
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                  <button (click)="onDeletePhoto()" class="btn btn-danger" data-dismiss="modal">Yes</button>
              </div>
          </div>
      </div>
  </div>
</div>

 <!-- Delete profile Modal -->
 <div class="modal fade" id="deleteAccountModal" tabindex="-1" role="dialog" aria-labelledby="deleteAccountModelLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="deleteAccountModelLabel">Delete Account</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <p>Are you sure you want to delete your account?</p>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                  <button (click)="onDeleteAccount()" class="btn btn-danger" data-dismiss="modal">Yes</button>
              </div>
          </div>
      </div>
  </div>
</div>